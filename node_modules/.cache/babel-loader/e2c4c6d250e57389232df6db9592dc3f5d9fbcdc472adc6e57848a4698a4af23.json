{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\zbook\\\\Desktop\\\\eSignature app\\\\pfe-front\\\\src\\\\auth\\\\AdminLoginModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useAuth } from \"./AuthProvider\";\nimport { useNavigate } from \"react-router-dom\";\n\n/* ---- Thème ---- */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RED = \"#D71A28\";\nconst GRAY = \"#6b7280\";\nconst API = process.env.REACT_APP_API_URL || \"http://localhost:5000\";\n\n/* ---- UI ---- */\nconst Backdrop = styled.div`\n  position: fixed;\n  inset: 0;\n  background: rgba(15, 23, 42, .55);\n  backdrop-filter: blur(2px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n`;\n_c = Backdrop;\nconst Card = styled.form`\n  width: 100%;\n  max-width: 480px;\n  background: #fff;\n  border-radius: 16px;\n  padding: 36px;\n  box-shadow: 0 20px 40px rgba(16,24,40,.18);\n  position: relative;\n`;\n_c2 = Card;\nconst Close = styled.button`\n  position: absolute;\n  top: 10px;\n  right: 12px;\n  border: 0;\n  background: transparent;\n  color: ${GRAY};\n  font-size: 20px;\n  cursor: pointer;\n`;\n_c3 = Close;\nconst Header = styled.div`\n  margin-bottom: 18px;\n  text-align: center;\n`;\n_c4 = Header;\nconst Title = styled.h3`\n  margin: 0 0 6px;\n  font-size: 24px;\n  font-weight: 800;\n  letter-spacing: .2px;\n  background: linear-gradient(90deg, ${RED}, ${GRAY});\n  -webkit-background-clip: text;\n  background-clip: text;\n  color: transparent;\n`;\n_c5 = Title;\nconst Sub = styled.p`\n  margin: 0 auto 14px;\n  color: ${GRAY};\n  font-size: 14px;\n  max-width: 320px;\n`;\n_c6 = Sub;\nconst Divider = styled.div`\n  height: 3px;\n  width: 64px;\n  margin: 0 auto 8px;\n  border-radius: 999px;\n  background: linear-gradient(90deg, ${RED}, #f97316);\n  opacity: .9;\n`;\n_c7 = Divider;\nconst Field = styled.div`\n  margin: 10px 6px;\n`;\n_c8 = Field;\nconst Label = styled.label`\n  display: block;\n  margin: 0 0 6px;\n  font-size: 13px;\n  font-weight: 700;\n  color: #111827;\n  letter-spacing: .2px;\n`;\n_c9 = Label;\nconst Input = styled.input`\n  width: 100%;\n  padding: 10px 12px;\n  font-size: 14px;\n  border: 1px solid #d1d5db;\n  border-radius: 8px;\n  outline: none;\n  transition: box-shadow .2s, border-color .2s, background .2s;\n  &::placeholder { color: #9ca3af; }\n  &:focus {\n    border-color: ${RED};\n    box-shadow: 0 0 0 4px rgba(215, 26, 40, .12);\n    background: #fff;\n  }\n`;\n_c0 = Input;\nconst Error = styled.div`\n  margin: 12px 6px 0;\n  color: #7a2328;\n  background: #fde2e4;\n  border: 1px solid #f9c6ca;\n  border-radius: 8px;\n  padding: 10px 12px;\n  font-size: 13px;\n  text-align: center;\n`;\n_c1 = Error;\nconst Row = styled.div`\n  display: flex;\n  gap: 10px;\n  margin: 18px 6px 0;\n`;\n_c10 = Row;\nconst Button = styled.button`\n  flex: 1;\n  padding: 10px 12px;\n  border: 0;\n  border-radius: 10px;\n  font-weight: 700;\n  cursor: pointer;\n  transition: transform .04s ease, background .15s ease, opacity .15s;\n  ${({\n  variant\n}) => variant === \"primary\" ? `background: ${RED}; color: #fff; &:hover{background:#b91622;}` : `background: #e5e7eb; color:#111827; &:hover{background:#d1d5db;}`}\n  &:active { transform: translateY(1px); }\n  &:disabled { opacity: .6; cursor: not-allowed; }\n`;\n_c11 = Button;\nexport default function AdminLoginModal({\n  onClose\n}) {\n  _s();\n  const navigate = useNavigate();\n  const {\n    login\n  } = useAuth(); // on ne l’utilise que si le compte est admin\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  // ESC pour fermer (si pas en chargement)\n  useEffect(() => {\n    const onKey = e => {\n      if (!loading && e.key === \"Escape\") onClose === null || onClose === void 0 ? void 0 : onClose();\n    };\n    window.addEventListener(\"keydown\", onKey);\n    return () => window.removeEventListener(\"keydown\", onKey);\n  }, [loading, onClose]);\n\n  // Empêche la fermeture quand on clique dans la carte\n  const stop = e => e.stopPropagation();\n  const handleSubmit = async e => {\n    e === null || e === void 0 ? void 0 : e.preventDefault();\n    if (loading) return;\n    setError(\"\");\n    setLoading(true);\n    const payload = {\n      email: String(email).trim().toLowerCase(),\n      password\n    };\n    try {\n      var _data$user;\n      // 1) Peek login (ne change PAS la session)\n      const res = await fetch(`${API}/api/login`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(payload)\n      });\n      const data = await res.json().catch(() => ({}));\n      if (!res.ok) throw new Error(data.message || \"Échec de connexion\");\n      const u = (_data$user = data.user) !== null && _data$user !== void 0 ? _data$user : data;\n\n      // 2) Si pas admin → message, aucune déconnexion\n      if ((u === null || u === void 0 ? void 0 : u.role) !== \"admin\") {\n        setError(\"Accès réservé aux administrateurs.\");\n        return;\n      }\n\n      // 3) C'est bien un admin → on “confirme” la session\n      await login(payload); // met à jour le contexte utilisateur\n      onClose === null || onClose === void 0 ? void 0 : onClose();\n      navigate(\"/admin\");\n    } catch (err) {\n      let msg = \"Échec de connexion\";\n      try {\n        const j = JSON.parse(err.message);\n        msg = j.message || msg;\n      } catch {\n        msg = err.message || msg;\n      }\n      setError(msg);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Backdrop, {\n    onClick: !loading ? onClose : undefined,\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      onClick: stop,\n      onMouseDown: stop,\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Close, {\n        type: \"button\",\n        \"aria-label\": \"Close\",\n        onClick: !loading ? onClose : undefined,\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Header, {\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          children: \"Admin Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Sub, {\n          children: \"Access restricted to administrators\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Field, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Email *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"email\",\n          placeholder: \"name@example.com\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          autoFocus: true,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Field, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Password *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"password\",\n          placeholder: \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Error, {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"button\",\n          variant: \"secondary\",\n          onClick: !loading ? onClose : undefined,\n          disabled: loading,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"primary\",\n          disabled: loading,\n          children: loading ? \"Logging in...\" : \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 206,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminLoginModal, \"NUZXr9Pq8ZEWR/iP/fn/5ePAAAg=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c12 = AdminLoginModal;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12;\n$RefreshReg$(_c, \"Backdrop\");\n$RefreshReg$(_c2, \"Card\");\n$RefreshReg$(_c3, \"Close\");\n$RefreshReg$(_c4, \"Header\");\n$RefreshReg$(_c5, \"Title\");\n$RefreshReg$(_c6, \"Sub\");\n$RefreshReg$(_c7, \"Divider\");\n$RefreshReg$(_c8, \"Field\");\n$RefreshReg$(_c9, \"Label\");\n$RefreshReg$(_c0, \"Input\");\n$RefreshReg$(_c1, \"Error\");\n$RefreshReg$(_c10, \"Row\");\n$RefreshReg$(_c11, \"Button\");\n$RefreshReg$(_c12, \"AdminLoginModal\");","map":{"version":3,"names":["React","useEffect","useState","styled","useAuth","useNavigate","jsxDEV","_jsxDEV","RED","GRAY","API","process","env","REACT_APP_API_URL","Backdrop","div","_c","Card","form","_c2","Close","button","_c3","Header","_c4","Title","h3","_c5","Sub","p","_c6","Divider","_c7","Field","_c8","Label","label","_c9","Input","input","_c0","Error","_c1","Row","_c10","Button","variant","_c11","AdminLoginModal","onClose","_s","navigate","login","email","setEmail","password","setPassword","loading","setLoading","error","setError","onKey","e","key","window","addEventListener","removeEventListener","stop","stopPropagation","handleSubmit","preventDefault","payload","String","trim","toLowerCase","_data$user","res","fetch","method","headers","body","JSON","stringify","data","json","catch","ok","message","u","user","role","err","msg","j","parse","onClick","undefined","children","onMouseDown","onSubmit","type","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","target","autoFocus","required","disabled","_c12","$RefreshReg$"],"sources":["C:/Users/zbook/Desktop/eSignature app/pfe-front/src/auth/AdminLoginModal.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useAuth } from \"./AuthProvider\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n/* ---- Thème ---- */\r\nconst RED  = \"#D71A28\";\r\nconst GRAY = \"#6b7280\";\r\nconst API  = process.env.REACT_APP_API_URL || \"http://localhost:5000\";\r\n\r\n/* ---- UI ---- */\r\nconst Backdrop = styled.div`\r\n  position: fixed;\r\n  inset: 0;\r\n  background: rgba(15, 23, 42, .55);\r\n  backdrop-filter: blur(2px);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n`;\r\n\r\nconst Card = styled.form`\r\n  width: 100%;\r\n  max-width: 480px;\r\n  background: #fff;\r\n  border-radius: 16px;\r\n  padding: 36px;\r\n  box-shadow: 0 20px 40px rgba(16,24,40,.18);\r\n  position: relative;\r\n`;\r\n\r\nconst Close = styled.button`\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 12px;\r\n  border: 0;\r\n  background: transparent;\r\n  color: ${GRAY};\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  margin-bottom: 18px;\r\n  text-align: center;\r\n`;\r\n\r\nconst Title = styled.h3`\r\n  margin: 0 0 6px;\r\n  font-size: 24px;\r\n  font-weight: 800;\r\n  letter-spacing: .2px;\r\n  background: linear-gradient(90deg, ${RED}, ${GRAY});\r\n  -webkit-background-clip: text;\r\n  background-clip: text;\r\n  color: transparent;\r\n`;\r\n\r\nconst Sub = styled.p`\r\n  margin: 0 auto 14px;\r\n  color: ${GRAY};\r\n  font-size: 14px;\r\n  max-width: 320px;\r\n`;\r\n\r\nconst Divider = styled.div`\r\n  height: 3px;\r\n  width: 64px;\r\n  margin: 0 auto 8px;\r\n  border-radius: 999px;\r\n  background: linear-gradient(90deg, ${RED}, #f97316);\r\n  opacity: .9;\r\n`;\r\n\r\nconst Field = styled.div`\r\n  margin: 10px 6px;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  display: block;\r\n  margin: 0 0 6px;\r\n  font-size: 13px;\r\n  font-weight: 700;\r\n  color: #111827;\r\n  letter-spacing: .2px;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 100%;\r\n  padding: 10px 12px;\r\n  font-size: 14px;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 8px;\r\n  outline: none;\r\n  transition: box-shadow .2s, border-color .2s, background .2s;\r\n  &::placeholder { color: #9ca3af; }\r\n  &:focus {\r\n    border-color: ${RED};\r\n    box-shadow: 0 0 0 4px rgba(215, 26, 40, .12);\r\n    background: #fff;\r\n  }\r\n`;\r\n\r\nconst Error = styled.div`\r\n  margin: 12px 6px 0;\r\n  color: #7a2328;\r\n  background: #fde2e4;\r\n  border: 1px solid #f9c6ca;\r\n  border-radius: 8px;\r\n  padding: 10px 12px;\r\n  font-size: 13px;\r\n  text-align: center;\r\n`;\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  margin: 18px 6px 0;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  flex: 1;\r\n  padding: 10px 12px;\r\n  border: 0;\r\n  border-radius: 10px;\r\n  font-weight: 700;\r\n  cursor: pointer;\r\n  transition: transform .04s ease, background .15s ease, opacity .15s;\r\n  ${({ variant }) =>\r\n    variant === \"primary\"\r\n      ? `background: ${RED}; color: #fff; &:hover{background:#b91622;}`\r\n      : `background: #e5e7eb; color:#111827; &:hover{background:#d1d5db;}`}\r\n  &:active { transform: translateY(1px); }\r\n  &:disabled { opacity: .6; cursor: not-allowed; }\r\n`;\r\n\r\nexport default function AdminLoginModal({ onClose }) {\r\n  const navigate = useNavigate();\r\n  const { login } = useAuth(); // on ne l’utilise que si le compte est admin\r\n\r\n  const [email, setEmail]       = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loading, setLoading]   = useState(false);\r\n  const [error, setError]       = useState(\"\");\r\n\r\n  // ESC pour fermer (si pas en chargement)\r\n  useEffect(() => {\r\n    const onKey = (e) => { if (!loading && e.key === \"Escape\") onClose?.(); };\r\n    window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n  }, [loading, onClose]);\r\n\r\n  // Empêche la fermeture quand on clique dans la carte\r\n  const stop = (e) => e.stopPropagation();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e?.preventDefault();\r\n    if (loading) return;\r\n\r\n    setError(\"\");\r\n    setLoading(true);\r\n\r\n    const payload = {\r\n      email: String(email).trim().toLowerCase(),\r\n      password,\r\n    };\r\n\r\n    try {\r\n      // 1) Peek login (ne change PAS la session)\r\n      const res = await fetch(`${API}/api/login`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(payload),\r\n      });\r\n      const data = await res.json().catch(() => ({}));\r\n      if (!res.ok) throw new Error(data.message || \"Échec de connexion\");\r\n\r\n      const u = data.user ?? data;\r\n\r\n      // 2) Si pas admin → message, aucune déconnexion\r\n      if (u?.role !== \"admin\") {\r\n        setError(\"Accès réservé aux administrateurs.\");\r\n        return;\r\n      }\r\n\r\n      // 3) C'est bien un admin → on “confirme” la session\r\n      await login(payload); // met à jour le contexte utilisateur\r\n      onClose?.();\r\n      navigate(\"/admin\");\r\n    } catch (err) {\r\n      let msg = \"Échec de connexion\";\r\n      try {\r\n        const j = JSON.parse(err.message);\r\n        msg = j.message || msg;\r\n      } catch {\r\n        msg = err.message || msg;\r\n      }\r\n      setError(msg);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Backdrop onClick={!loading ? onClose : undefined}>\r\n      <Card onClick={stop} onMouseDown={stop} onSubmit={handleSubmit}>\r\n        <Close type=\"button\" aria-label=\"Close\" onClick={!loading ? onClose : undefined}>×</Close>\r\n\r\n        <Header>\r\n          <Title>Admin Login</Title>\r\n          <Divider />\r\n          <Sub>Access restricted to administrators</Sub>\r\n        </Header>\r\n\r\n        <Field>\r\n          <Label>Email *</Label>\r\n          <Input\r\n            type=\"email\"\r\n            placeholder=\"name@example.com\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            autoFocus\r\n            required\r\n          />\r\n        </Field>\r\n\r\n        <Field>\r\n          <Label>Password *</Label>\r\n          <Input\r\n            type=\"password\"\r\n            placeholder=\"••••••••\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            required\r\n          />\r\n        </Field>\r\n\r\n        {error && <Error>{error}</Error>}\r\n\r\n        <Row>\r\n          <Button type=\"button\" variant=\"secondary\" onClick={!loading ? onClose : undefined} disabled={loading}>\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\" variant=\"primary\" disabled={loading}>\r\n            {loading ? \"Logging in...\" : \"Login\"}\r\n          </Button>\r\n        </Row>\r\n      </Card>\r\n    </Backdrop>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}